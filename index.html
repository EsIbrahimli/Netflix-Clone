<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmalisa - Watch Movies Online</title>
    <link rel="stylesheet" href="/styles/global.css">
    <link rel="stylesheet" href="/pages/client/landingPage/landingPage.css">
    <script src="/js/error-handler.js"></script>
</head>
<body>
    <div class="landing-container">
        <div class="landing-header">
            <div class="logo">
                <img src="/assets/icons/logo.svg" alt="Filmalisa">
                <span>filmalisa</span>
            </div>
            <div class="auth-buttons">
                <a href="/pages/client/login/login.html" class="btn-login">Sign In</a>
            </div>
        </div>

        <div class="hero-section">
            <div class="hero-content">
                <h1>Unlimited movies, TV shows, and more</h1>
                <p>Watch anywhere. Cancel anytime.</p>
                <div class="cta-section">
                    <p class="cta-text">Ready to watch? Enter your email to create or restart your membership.</p>
                    <div class="email-form">
                        <input type="email" id="landing-email" placeholder="Email address">
                        <a href="/pages/client/registr/registr.html" class="btn-get-started">Get Started â€º</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="features-section">
            <div class="feature">
                <div class="feature-text">
                    <h2>Enjoy on your TV</h2>
                    <p>Watch on Smart TVs, Playstation, Xbox, Chromecast, Apple TV, Blu-ray players, and more.</p>
                </div>
                <div class="feature-image">
                    <img src="/assets/icons/modal-img.svg" alt="TV">
                </div>
            </div>

            <div class="feature reverse">
                <div class="feature-image">
                    <img src="/assets/icons/modal-img.svg" alt="Mobile">
                </div>
                <div class="feature-text">
                    <h2>Download your shows to watch offline</h2>
                    <p>Save your favorites easily and always have something to watch.</p>
                </div>
            </div>

            <div class="feature">
                <div class="feature-text">
                    <h2>Watch everywhere</h2>
                    <p>Stream unlimited movies and TV shows on your phone, tablet, laptop, and TV.</p>
                </div>
                <div class="feature-image">
                    <img src="/assets/icons/modal-img.svg" alt="Devices">
                </div>
            </div>
        </div>

        <div class="landing-footer">
            <p>&copy; 2024 Filmalisa. All rights reserved.</p>
        </div>
    </div>

    <script src="/pages/client/landingPage/landingPage.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        // Register Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New content is available, show update notification
                                    if (confirm('New version available! Reload to update?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
        
        // Handle online/offline status
        window.addEventListener('online', () => {
            console.log('Connection restored');
            // Show notification
            if (typeof showToast === 'function') {
                showToast('Connection restored!', 'success');
            }
        });
        
        window.addEventListener('offline', () => {
            console.log('Connection lost');
            // Show notification
            if (typeof showToast === 'function') {
                showToast('You are now offline', 'warning');
            }
        });
    </script>
</body>
</html>
